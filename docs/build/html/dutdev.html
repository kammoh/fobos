

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DUT Algorithm Development &mdash; FOBOS 2.0 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Acquisition - Processing Data" href="capture_data.html" />
    <link rel="prev" title="DUT Board Setup" href="dut_board_setup.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> FOBOS 2.0
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="tvgen.html">Test Vector Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dut_board_setup.html">DUT Board Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DUT Algorithm Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-flow-description">Data flow description:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-dut-wrapper-function-core-interface">The DUT Wrapper &lt;–&gt; Function core interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dummy-dut-example">Dummy DUT Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generating-the-dummy-dut-bitstream">Generating the dummy DUT bitstream</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-dummu-dut-example-on-nexys3-dut">Running the dummu DUT example (on Nexys3 DUT)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="capture_data.html">Data Acquisition - Processing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_scope.html">Data Acquisition - Collecting Traces</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller_features.html">Control Board Feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpa.html">Running Correlation Power Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="aes_cpa_example2.html">AES CPA Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="t_test.html">T-test Leakage Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="x_test.html">Chi-Squared Test Leakage Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_doc.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FOBOS 2.0</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>DUT Algorithm Development</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dutdev.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dut-algorithm-development">
<h1>DUT Algorithm Development<a class="headerlink" href="#dut-algorithm-development" title="Permalink to this headline">¶</a></h1>
<p>This document describes how to interface the DUT wrapper and the Function Core (victim).
The  Function Core (a.k.a victim), is the algorithm to be tested. The DUT wrapper is hardware that is instantaited on the same
FPGA as the function core and used to communication to the control board.
The function core is user provided. However, the DUT wrapper is included with FOBOS.
The DUT Wrapper handles communication to the control board and includes FIFOs to store input and output data.</p>
<div class="section" id="data-flow-description">
<h2>Data flow description:<a class="headerlink" href="#data-flow-description" title="Permalink to this headline">¶</a></h2>
<p>Test vectors are sent form PC one at a time to the control board which stores them breifly.
The control board starts sending the test vector to the DUT board through the interface described below.
The DUT wrapper then puts data in the correct FIFOs (PDI, SDI and RDI).
Once the DUT wrapper receives the start command from the controller, it de-assersts the function core reset signal and the function core will run and consume the data in the FIFOs.
The output of the function core is stored in the DO fifo.
Once the DO FIFO accumulates EXPECTED_OUTPUT bytes, the DUT wrapper will send this data to the control board which forwards it to the PC.</p>
</div>
<div class="section" id="the-dut-wrapper-function-core-interface">
<h2>The DUT Wrapper &lt;–&gt; Function core interface<a class="headerlink" href="#the-dut-wrapper-function-core-interface" title="Permalink to this headline">¶</a></h2>
<p>The protocol follows a simple AXI stream protocol. The ‘valid’ signals indicates data from source are valid and ‘ready’ signals
indicates destination is ready to use data. When both ‘valid’ and ‘ready’ signals are set to logic 1, data is transfered.
All the data signals shown in the listing below, are connected to the FIFOs PDI, SDI, RDI and DO.</p>
<p>The function core (victim) is instantiated as follows in the FOBOS_DUT.vhd file.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">victim</span><span class="o">:</span> <span class="k">entity</span> <span class="nc">work</span><span class="p">.</span><span class="n">victim</span><span class="p">(</span><span class="n">behav</span><span class="p">)</span>
    <span class="c1">-- Choices for W and SW are independently any multiple of 4, defined in generics above</span>
    <span class="k">generic</span> <span class="k">map</span>  <span class="p">(</span>
        <span class="n">G_W</span>          <span class="o">=&gt;</span> <span class="n">W</span><span class="p">,</span> <span class="c1">-- ! pdi and do width (mulltiple of 4)</span>
        <span class="n">G_SW</span>         <span class="o">=&gt;</span> <span class="n">SW</span> <span class="c1">-- ! sdi width (multiple of 4)</span>
    <span class="p">)</span>
    <span class="k">port</span> <span class="k">map</span><span class="p">(</span>
        <span class="n">clk</span> <span class="o">=&gt;</span> <span class="n">clk</span><span class="p">,</span>
        <span class="n">rst</span> <span class="o">=&gt;</span> <span class="n">start</span><span class="p">,</span>
        <span class="c1">-- data signals</span>
        <span class="n">pdi_data</span>  <span class="o">=&gt;</span> <span class="n">pdi_data</span><span class="p">,</span>
        <span class="n">pdi_valid</span> <span class="o">=&gt;</span> <span class="n">pdi_valid</span><span class="p">,</span>
        <span class="n">pdi_ready</span> <span class="o">=&gt;</span> <span class="n">pdi_ready</span><span class="p">,</span>
        <span class="n">sdi_data</span> <span class="o">=&gt;</span> <span class="n">sdi_data</span><span class="p">,</span>
        <span class="n">sdi_valid</span> <span class="o">=&gt;</span> <span class="n">sdi_valid</span><span class="p">,</span>
        <span class="n">sdi_ready</span> <span class="o">=&gt;</span> <span class="n">sdi_ready</span><span class="p">,</span>
        <span class="n">do_data</span> <span class="o">=&gt;</span> <span class="n">result_data</span><span class="p">,</span>
        <span class="n">do_ready</span> <span class="o">=&gt;</span> <span class="n">result_ready</span><span class="p">,</span>
        <span class="n">do_valid</span> <span class="o">=&gt;</span> <span class="n">result_valid</span>

    <span class="c1">--  ! if rdi_interface for side-channel protected versions is required,</span>
    <span class="c1">--  ! uncomment the rdi interface</span>
    <span class="c1">--  ,rdi_data =&gt; rdi_data,</span>
    <span class="c1">--  rdi_ready =&gt; rdi_ready,</span>
    <span class="c1">--  rdi_valid =&gt; rdi_valid</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The generic W is the PDI and DO width in bits.
The generic SW is the SDI width.</p>
<p>It is highly recommended that the DUT is tested using the capture/dut/fpga_dut/fobos_dut_tb.vhd test bench and ensure
that the output is valid.
This testbench needs one test vector to be stored in the file dinFile.txt and generates doutFile.txt output file.</p>
</div>
<div class="section" id="dummy-dut-example">
<h2>Dummy DUT Example<a class="headerlink" href="#dummy-dut-example" title="Permalink to this headline">¶</a></h2>
<p>You can find an example dummy DUT in fobos/capture/dut/example_cores/dummy1.
This dummy core is used to test FOBOS DUT.
It simply echos back configurable number of words of the PDI sent in the test vector.
The dummy core in the listing below, echos seven 8-bit words of the PDI from the test vector received from the DUT wrapper.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">library</span> <span class="nn">IEEE</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">IEEE.STD_LOGIC_1164.</span><span class="k">ALL</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">ieee.std_logic_unsigned.</span><span class="k">all</span><span class="p">;</span>
<span class="k">entity</span> <span class="nc">dummy</span> <span class="k">is</span>
    <span class="k">Generic</span><span class="p">(</span>
        <span class="n">N</span>        <span class="o">:</span> <span class="kt">integer</span> <span class="o">:=</span> <span class="mi">8</span><span class="p">;</span>
        <span class="n">NUMWORDS</span> <span class="o">:</span> <span class="kt">integer</span> <span class="o">:=</span> <span class="mi">7</span>
    <span class="p">);</span>
    <span class="k">port</span><span class="p">(</span><span class="n">clk</span>       <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">rst</span>       <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">pdi_data</span>  <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC_VECTOR</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
         <span class="n">pdi_valid</span> <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">pdi_ready</span> <span class="o">:</span> <span class="k">out</span> <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">sdi_data</span>  <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC_VECTOR</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
         <span class="n">sdi_valid</span> <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">sdi_ready</span> <span class="o">:</span> <span class="k">out</span> <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">do_data</span>   <span class="o">:</span> <span class="k">out</span> <span class="kt">STD_LOGIC_VECTOR</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
         <span class="n">do_valid</span>  <span class="o">:</span> <span class="k">out</span> <span class="kt">STD_LOGIC</span><span class="p">;</span>
         <span class="n">do_ready</span>  <span class="o">:</span> <span class="k">in</span>  <span class="kt">STD_LOGIC</span>
        <span class="p">);</span>
<span class="k">end</span> <span class="nc">dummy</span><span class="p">;</span>

<span class="k">architecture</span> <span class="nc">behav</span> <span class="k">of</span> <span class="nc">dummy</span> <span class="k">is</span>
    <span class="k">type</span> <span class="n">state</span> <span class="k">is</span> <span class="p">(</span><span class="n">IDLE</span><span class="p">,</span> <span class="n">RUN</span><span class="p">);</span>
    <span class="k">signal</span> <span class="n">current_state</span>             <span class="o">:</span> <span class="n">state</span><span class="p">;</span>
    <span class="k">signal</span> <span class="n">next_state</span>                <span class="o">:</span> <span class="n">state</span><span class="p">;</span>
    <span class="k">signal</span> <span class="n">cnt_clr</span><span class="p">,</span> <span class="n">cnt_en</span><span class="p">,</span> <span class="n">cnt_done</span> <span class="o">:</span> <span class="kt">std_logic</span><span class="p">;</span>
    <span class="k">signal</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">next_cnt</span>             <span class="o">:</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="mi">15</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>

<span class="k">begin</span>

    <span class="n">ctrl</span> <span class="o">:</span> <span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span>
    <span class="k">begin</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">))</span> <span class="k">then</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">rst</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span><span class="p">)</span> <span class="k">then</span>
                <span class="n">current_state</span> <span class="o">&lt;=</span> <span class="n">IDLE</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">current_state</span> <span class="o">&lt;=</span> <span class="n">next_state</span><span class="p">;</span>
            <span class="k">end</span> <span class="k">if</span><span class="p">;</span>

        <span class="k">end</span> <span class="k">if</span><span class="p">;</span>

    <span class="k">end</span> <span class="k">process</span><span class="p">;</span>

    <span class="n">comb</span> <span class="o">:</span> <span class="k">process</span><span class="p">(</span><span class="n">current_state</span><span class="p">,</span> <span class="n">pdi_valid</span><span class="p">,</span> <span class="n">sdi_valid</span><span class="p">,</span> <span class="n">do_ready</span><span class="p">,</span> <span class="n">cnt_done</span><span class="p">)</span>
    <span class="k">begin</span>
        <span class="c1">-- defaults</span>
        <span class="n">pdi_ready</span> <span class="o">&lt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>
        <span class="n">sdi_ready</span> <span class="o">&lt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>
        <span class="n">do_valid</span>  <span class="o">&lt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>
        <span class="n">cnt_clr</span>   <span class="o">&lt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>
        <span class="n">cnt_en</span>    <span class="o">&lt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>

        <span class="k">case</span> <span class="n">current_state</span> <span class="k">is</span>
            <span class="k">when</span> <span class="n">IDLE</span> <span class="o">=&gt;</span>
                <span class="n">cnt_clr</span> <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
                <span class="k">if</span> <span class="n">pdi_valid</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">and</span> <span class="n">sdi_valid</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">and</span> <span class="n">do_ready</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
                    <span class="n">next_state</span> <span class="o">&lt;=</span> <span class="n">RUN</span><span class="p">;</span>
                <span class="k">else</span>
                    <span class="n">next_state</span> <span class="o">&lt;=</span> <span class="n">IDLE</span><span class="p">;</span>
                <span class="k">end</span> <span class="k">if</span><span class="p">;</span>

            <span class="k">when</span> <span class="n">RUN</span> <span class="o">=&gt;</span>
                <span class="k">if</span> <span class="n">cnt_done</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
                    <span class="n">next_state</span> <span class="o">&lt;=</span> <span class="n">IDLE</span><span class="p">;</span>
                <span class="k">else</span>
                    <span class="k">if</span> <span class="n">pdi_valid</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">and</span> <span class="n">sdi_valid</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">and</span> <span class="n">do_ready</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
                        <span class="n">pdi_ready</span> <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
                        <span class="n">sdi_ready</span> <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
                        <span class="n">do_valid</span>  <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
                        <span class="n">cnt_en</span>    <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
                    <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
                    <span class="n">next_state</span> <span class="o">&lt;=</span> <span class="n">RUN</span><span class="p">;</span>
                <span class="k">end</span> <span class="k">if</span><span class="p">;</span>

            <span class="k">when</span> <span class="k">others</span> <span class="o">=&gt;</span>
                <span class="n">next_state</span> <span class="o">&lt;=</span> <span class="n">IDLE</span><span class="p">;</span>

        <span class="k">end</span> <span class="k">case</span><span class="p">;</span>

    <span class="k">end</span> <span class="k">process</span><span class="p">;</span>
    <span class="c1">--do_data &lt;= pdi_data xor sdi_data;</span>
    <span class="n">do_data</span> <span class="o">&lt;=</span> <span class="n">pdi_data</span><span class="p">;</span>

    <span class="n">count</span> <span class="o">:</span> <span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span>
    <span class="k">begin</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">))</span> <span class="k">then</span>
            <span class="n">cnt</span> <span class="o">&lt;=</span> <span class="n">next_cnt</span><span class="p">;</span>
        <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">process</span><span class="p">;</span>
    <span class="n">next_cnt</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="k">others</span> <span class="o">=&gt;</span> <span class="sc">&#39;0&#39;</span><span class="p">)</span> <span class="k">when</span> <span class="n">cnt_clr</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span>
                <span class="k">else</span> <span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">when</span> <span class="n">cnt_en</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span>
                <span class="k">else</span> <span class="n">cnt</span><span class="p">;</span>

    <span class="n">cnt_done</span> <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span> <span class="k">when</span> <span class="p">(</span><span class="n">cnt</span> <span class="o">=</span> <span class="n">NUMWORDS</span><span class="p">)</span> <span class="k">else</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>

<span class="k">end</span> <span class="nc">behav</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="generating-the-dummy-dut-bitstream">
<h2>Generating the dummy DUT bitstream<a class="headerlink" href="#generating-the-dummy-dut-bitstream" title="Permalink to this headline">¶</a></h2>
<p>This procedure describes how to genrate the bitstream for the dummy DUT. You don’t need to perform
this procedure to run the dummy example since the bitstream is already generated.
However, this procedure aims to show how to instantiate a function core in FOBOS DUT wrapper.</p>
<p>1. Create a project in Vivado (or ISE) and add all vhdl files from fobos/capture/dut/fpga_dut (except half_duplex_du.vhd)
and fobos/capture/dut/example_cores/dummy1.</p>
<ol class="arabic simple" start="2">
<li><p>Note that in FOBOS_DUT.vhd, the dummy dut is instantaited as follows:</p></li>
</ol>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">victim</span><span class="o">:</span> <span class="k">entity</span> <span class="nc">work</span><span class="p">.</span><span class="n">dummy</span><span class="p">(</span><span class="n">behav</span><span class="p">)</span>

<span class="c1">-- Choices for W and SW are independently any multiple of 4, defined in generics above</span>

    <span class="k">generic</span> <span class="k">map</span>  <span class="p">(</span>
        <span class="n">N</span>          <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">,</span>
        <span class="n">NUMWORDS</span>        <span class="o">=&gt;</span> <span class="mi">7</span>
    <span class="p">)</span>

<span class="k">port</span> <span class="k">map</span><span class="p">(</span>
    <span class="n">clk</span> <span class="o">=&gt;</span> <span class="n">clk</span><span class="p">,</span>
    <span class="n">rst</span> <span class="o">=&gt;</span> <span class="n">start</span><span class="p">,</span>  <span class="c1">--! The FOBOS_DUT start signal meets requirements</span>
                   <span class="c1">--!for synchronous resets used in</span>
                   <span class="c1">--! CAESAR HW Development Package AEAD</span>

<span class="c1">-- data signals</span>

    <span class="n">pdi_data</span>  <span class="o">=&gt;</span> <span class="n">pdi_data</span><span class="p">,</span>
    <span class="n">pdi_valid</span> <span class="o">=&gt;</span> <span class="n">pdi_valid</span><span class="p">,</span>
    <span class="n">pdi_ready</span> <span class="o">=&gt;</span> <span class="n">pdi_ready</span><span class="p">,</span>

<span class="n">sdi_data</span> <span class="o">=&gt;</span> <span class="n">sdi_data</span><span class="p">,</span>
    <span class="n">sdi_valid</span> <span class="o">=&gt;</span> <span class="n">sdi_valid</span><span class="p">,</span>
    <span class="n">sdi_ready</span> <span class="o">=&gt;</span> <span class="n">sdi_ready</span><span class="p">,</span>

    <span class="n">do_data</span> <span class="o">=&gt;</span> <span class="n">result_data</span><span class="p">,</span>
    <span class="n">do_ready</span> <span class="o">=&gt;</span> <span class="n">result_ready</span><span class="p">,</span>
    <span class="n">do_valid</span> <span class="o">=&gt;</span> <span class="n">result_valid</span>

<span class="c1">----! if rdi_interface for side-channel protected versions is required,</span>
<span class="c1">----! uncomment the rdi interface</span>
<span class="c1">--  ,rdi_data =&gt; rdi_data,</span>
<span class="c1">--  rdi_ready =&gt; rdi_ready,</span>
<span class="c1">--  rdi_valid =&gt; rdi_valid</span>

<span class="p">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Note that the W and SW (PDI and SDI width) generics in FOBOS_DUT.vhd are set to 8.</p></li>
<li><p>Add the constain file CW305.xdc for NewAE CW305 (or Nexys3.ucf for Nexys3 DUT) from fobos/capture/dut/fpga_dut.</p></li>
<li><p>Generate the bitstream.</p></li>
<li><p>Find your bitstream file FOBOS_DUT.bit in the Vivado/ISE project folders.</p></li>
</ol>
</div>
<div class="section" id="running-the-dummu-dut-example-on-nexys3-dut">
<h2>Running the dummu DUT example (on Nexys3 DUT)<a class="headerlink" href="#running-the-dummu-dut-example-on-nexys3-dut" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Make sure your hardware is setup properly and the DUT is connected to the control board.</p></li>
<li><p>Run the dummyDUTCapture.py script as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd path-to-fobos/software
$ python dummyDUTCapture.py
</pre></div>
</div>
</li>
</ol>
<p>This script is preconfigured to use the fobos/workspace/DummyProject as a project folder.
The folder includes a pre-generated bitstream file that FOBOS will use to program the Nexys3 DUT.
This requires digilent Adept tool ‘djtgcfg’ to be installed and callable from the Linux shell.
The project folder also includes a pre-generated test vector file ‘dinFile.txt’.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="capture_data.html" class="btn btn-neutral float-right" title="Data Acquisition - Processing Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dut_board_setup.html" class="btn btn-neutral float-left" title="DUT Board Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CERG

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>