

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setup &mdash; FOBOS 2.0 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Test Vector Generation" href="tvgen.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> FOBOS 2.0
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#software-setup">Software Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#control-board-setup">Control board Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-the-control-board">Testing the control board</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tvgen.html">Test Vector Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dutdev.html">DUT Algorithm Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="dut_board_setup.html">DUT Board Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_data.html">Data Acquisition - Processing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_scope.html">Data Acquisition - Collecting Traces</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller_features.html">Control Board Feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpa.html">Running Correlation Power Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="aes_cpa_example.html">Breaking AES Implementation With CPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="t_test.html">T-test Leakage Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_doc.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FOBOS 2.0</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<p>Below, we describe how to setup FOBOS 2.0 hardware and software and test that everything is working.
This page only describes setting up the control board and software for acquisition and anlysis.
For DUT board please refer to <a class="reference internal" href="dut_board_setup.html#dut-board-setup-label"><span class="std std-ref">DUT Board Setup</span></a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Digilent Basys3 board (control board).</p></li>
<li><p>A PC with Linux installed.</p></li>
<li><p>Python2.7 installed.</p></li>
<li><p>Xilinx Vivado 2017.2.</p></li>
<li><p>Picoscope 5000 series.</p></li>
</ol>
</div>
<div class="section" id="software-setup">
<h2>Software Setup<a class="headerlink" href="#software-setup" title="Permalink to this headline">¶</a></h2>
<p>Note: The following installation procedure is tested on Linux Ubuntu 16.04.</p>
<ol class="arabic simple">
<li><p>Download FOBOS from the <a class="reference external" href="https://cryptography.gmu.edu/fobos/getfobos.php">FOBOS home page</a>.</p></li>
<li><p>Extract the archive into the directory of your choice</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tar xvfz fobos-v2.0.tgz
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Use the following commands to install pip and few necessary Python packages:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install python-pip
$ tar xvfz fobos-v2.0.tgz
$ pip isnatll -r requirements.txt
</pre></div>
</div>
</div>
<div class="section" id="control-board-setup">
<h2>Control board Setup<a class="headerlink" href="#control-board-setup" title="Permalink to this headline">¶</a></h2>
<p>Follow these steps to compile the control software, generate the bitstream and program
the the control board.</p>
<ol class="arabic simple">
<li><p>Build the control board Vivado project.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> fobos/capture/ctrl/basys3ctrl/vivado
$ make project
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>A Vivado project will be created at fobos/capture/ctrl/basys3ctrl/vivado/basys3ctrl. Open it using Vivado.</p></li>
</ol>
<div class="figure align-center" id="id1">
<img alt="_images/open_project.png" src="_images/open_project.png" />
<p class="caption"><span class="caption-text">Open Vivado project</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="3">
<li><p>In Vivado’s Flow Navigator window, click ‘Generate Bitstream’.</p></li>
<li><p>After bitstream is generated, export the hardware. Click File &gt; Export &gt; Export Hardware … make sure to select ‘Include bitstream’.</p></li>
</ol>
<div class="figure align-center" id="id2">
<img alt="_images/export_hardware.png" src="_images/export_hardware.png" />
<p class="caption"><span class="caption-text">Export Hardware</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="5">
<li><p>Launch the Xilinx SDK (File &gt; Launch SDK).</p></li>
</ol>
<div class="figure align-center" id="id3">
<img alt="_images/launch_sdk.png" src="_images/launch_sdk.png" />
<p class="caption"><span class="caption-text">Launch SDK</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>6. In the SDK, create a new empty project(File&gt; New application project). Set the project name to <em>ctrl</em> and select
the hardware platform, click Next and make sure you select ‘Empty project’.</p>
<div class="figure align-center" id="id4">
<img alt="_images/create_sdk_app.png" src="_images/create_sdk_app.png" />
<p class="caption"><span class="caption-text">Create Project</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="7">
<li><p>Link all the .c and .h files in the fobos/capture/ctrl/basys3ctrl/sdk/src/ to the project
(right-click on project/src folder -&gt; Import -&gt; General-&gt; file system -&gt; browse to folder).
make sure to check “Advanced-&gt; Create links in the workspace” and “Create virtual folders” .</p></li>
</ol>
<div class="figure align-center" id="id5">
<img alt="_images/import_sdk_src.png" src="_images/import_sdk_src.png" />
<p class="caption"><span class="caption-text">Launch SDK</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="8">
<li><p>Program the control borad FPGA. Connect the Basys3 board to your PC via USB. In the Xilinx Tools menu, select Program FPGA -&gt; program.</p></li>
<li><p>Run the control software. Make sure to select the <em>ctrl</em> project created in step 6 then go to the Run menu and select ‘Run’.</p></li>
<li><p>You should see the word CERG in the seven-segment display of the Basys3 board.</p></li>
</ol>
</div>
<div class="section" id="testing-the-control-board">
<h2>Testing the control board<a class="headerlink" href="#testing-the-control-board" title="Permalink to this headline">¶</a></h2>
<p>To make sure the control board is working, you can run the <em>dymmyCapture.py</em> script in the fobos/software directory.
This script send data to the board wich echos data back.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd path-to-fobos/software
$ python dummyCaptureBasic.py
Sending configuration...
f0030006000900000001
Status= 00000000
f0030006000000000007
Status= 00000000
Sending data..
f001001e00c0000761996dc996d4ac00c100070f7821507a22a00081000700800001
OK.    Status= 00000000
61 99 6d c9 96 d4 ac
f001001e00c00007fd8771fe717de400c100073e1fe5b4aa357c0081000700800001
OK.    Status= 00000000
fd 87 71 fe 71 7d e4
f001001e00c0000782051f5484702200c10007980d05d4ea25bc0081000700800001
OK.    Status= 00000000
82 05 1f 54 84 70 22
f001001e00c0000767881b702afe5200c10007b08a5e036de72b0081000700800001
OK.    Status= 00000000
67 88 1b 70 2a fe 52
f001001e00c0000726a1d601ccdf7a00c1000773539e52672d5d0081000700800001
OK.    Status= 00000000
26 a1 d6 01 cc df 7a
</pre></div>
</div>
<p>If you see this output, your control board is now ready!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tvgen.html" class="btn btn-neutral float-right" title="Test Vector Generation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CERG

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>