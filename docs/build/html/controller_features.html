

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Control Board Feature &mdash; FOBOS 2.0 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Running Correlation Power Analysis" href="cpa.html" />
    <link rel="prev" title="Data Acquisition - Collecting Traces" href="capture_scope.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> FOBOS 2.0
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="tvgen.html">Test Vector Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dut_board_setup.html">DUT Board Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="dutdev.html">DUT Algorithm Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_data.html">Data Acquisition - Processing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_scope.html">Data Acquisition - Collecting Traces</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Control Board Feature</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#trigger-settings">Trigger Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-dut-clock">Setting DUT Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dut-reset-feature">DUT Reset Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timeout-setting">Timeout Setting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#port-mapping">Port mapping</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cpa.html">Running Correlation Power Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="aes_cpa_example.html">Breaking AES Implementation With CPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="t_test.html">T-test Leakage Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_doc.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FOBOS 2.0</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Control Board Feature</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/controller_features.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="control-board-feature">
<h1>Control Board Feature<a class="headerlink" href="#control-board-feature" title="Permalink to this headline">¶</a></h1>
<div class="section" id="trigger-settings">
<h2>Trigger Settings<a class="headerlink" href="#trigger-settings" title="Permalink to this headline">¶</a></h2>
<p>The controller can send a trigger to the Oscilloscope once the DUT starts processing the data (ie. di_ready = 0). Or it can be configured to trigger any number of clock cycles after this event occurs.</p>
<ul class="simple">
<li><p>TRIGGER_WAIT_CYCLES : The number of clock cycles after which the trigger is asserted (after di_ready goes to zero).</p></li>
<li><p>TRIGGER_LENGTH_CYCLES : The time the trigger signal is asserted.</p></li>
<li><dl class="simple">
<dt>TRIGGER_TYPE<span class="classifier">possible values: TRG_NORM | TRG_FULL | TRG_NORM_CLK | TRG_FULL_CLK</span></dt><dd><ul>
<li><p>TRG_NORM : normal trigger mode. in this mode the TRIGGER_WAIT_CYCLES and TRIGGER_LENGTH_CYCLES are applied.</p></li>
<li><p>TRG_FULL : Full trigger mode. While DUT is running (between di_ready = 0 and do_valid = 1) the trigger is asserted.</p></li>
<li><p>TRG_NORM_CLK : same as TRG_NORM but the trigger signal is anded with the clock.</p></li>
<li><p>TRG_FULL_CLK : same as TRG_FULL but the trigger signal is anded with the clock.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CUT_MODE<span class="classifier">Controls how the trace retrieved from the scope will be processed. Possible values: FULL | TRIG_HIGH</span></dt><dd><ul>
<li><p>FULL : The trace is cut starting at the rising edge of the trigger to the end of the screen.</p></li>
<li><p>TRIG_HIGH : the trace is cut from the rising edge to the falling edge of the trigger ie. the trace where the trigger is high will be saved.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="setting-dut-clock">
<h2>Setting DUT Clock<a class="headerlink" href="#setting-dut-clock" title="Permalink to this headline">¶</a></h2>
<p>The control board can provide a clock for the DUT ranging from 400 KHz to 100 MHz. The default value is 5 MHz.
To set it, use the following method:</p>
<blockquote>
<div><p>ctrl.setDUTClk(clkValue).</p>
</div></blockquote>
</div>
<div class="section" id="dut-reset-feature">
<h2>DUT Reset Feature<a class="headerlink" href="#dut-reset-feature" title="Permalink to this headline">¶</a></h2>
<p>In some cases, the control board may need to reset the DUT due to an error condition or because the interesting part of the victim algorithm has already executed. This is specifically valuable for ciphers that take a long time to complete. In this case, the cipher runs for a configurable number of clock cycles and then is reset without waiting for it to complete. This helps reduce acquisition time.
The number of cycles is counted after di_ready goes to 0.
Note: When you use this feature, no output is returned from the DUT.
To set it use the following command and set TIME_TO_RESET to any number other than zero. This number is set to zero by default which disables this feature.</p>
<blockquote>
<div><p>ctrl.setTimeToReset(TIME_TO_RST)</p>
</div></blockquote>
</div>
<div class="section" id="timeout-setting">
<h2>Timeout Setting<a class="headerlink" href="#timeout-setting" title="Permalink to this headline">¶</a></h2>
<p>In some cases, due to communication error or DUT non-responsiveness the control board asserts a timeout error message to the control PC when a configurable time has elapsed. The default value is 5 seconds which is enough for almost all cases. Once timeout is reached, the control board resets the DUT, resets any pending DUT data transfers and return the a timeout status to the capture software.
To set the timeout value, use the method:</p>
<blockquote>
<div><p>ctrl.setTimeout(TIMEOUT)</p>
</div></blockquote>
</div>
<div class="section" id="port-mapping">
<h2>Port mapping<a class="headerlink" href="#port-mapping" title="Permalink to this headline">¶</a></h2>
<p>Below, we show how the pins on the Basys3 PMOD ports are assinged.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#JA</span>
<span class="c1">#+----------+----------+----------+----------+</span>
<span class="c1">#|          |  din3    |  do_ready|  rst     |</span>
<span class="c1">#|  G2      |  J2      |  L2      |  J1      |</span>
<span class="c1">#+----------+----------+----------+----------+</span>
<span class="c1">#|  din0    |  din2    |  din1    |  do_valid|</span>
<span class="c1">#|  G3      |  H2      |  K2      |  H1      |</span>
<span class="c1">#+----------+----------+----------+----------+</span>

<span class="c1">#JXADC</span>
<span class="c1">#+----------+----------+----------+----------+</span>
<span class="c1">#|  dout1   |  dout3   |  di_ready|  dut_clk |</span>
<span class="c1">#|  N2      |  M2      |  L3      |  J3      |</span>
<span class="c1">#+----------+----------+----------+----------+</span>
<span class="c1">#|  dout0   |  dout2   |  di_valid|          |</span>
<span class="c1">#|  N1      |  M1      |  M3      |  K3      |</span>
<span class="c1">#+----------+----------+----------+----------+</span>

<span class="c1">#JC</span>
<span class="c1">#+----------+----------+----------+------------+</span>
<span class="c1">#|          |          |          | trigger_out|</span>
<span class="c1">#|          |          |          |            |</span>
<span class="c1">#+----------+----------+----------+------------+</span>
<span class="c1">#|          |          |          |            |</span>
<span class="c1">#|          |          |          |            |</span>
<span class="c1">#+----------+----------+----------+------------+</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cpa.html" class="btn btn-neutral float-right" title="Running Correlation Power Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="capture_scope.html" class="btn btn-neutral float-left" title="Data Acquisition - Collecting Traces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CERG

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>